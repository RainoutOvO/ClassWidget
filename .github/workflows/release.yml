# 此工作流的名字
name: Build 
# 工作流的执行时机，可以设定为定时执行，每次push后执行，手动执行等
on:
  # workflow_dispatch为在Github仓库的Actions面板中手动执行
  workflow_dispatch:
# 工作/任务，这里的工作是可以并行的。
jobs:

  pack: # 打包任务
    runs-on: windows-latest # 在 windows 系统中运行
    steps:
    - name: Checkout
      uses: actions/checkout@v4.1.0
    - name: Install and Pack # 安装依赖并且进行构建
      run: |
        npm install
        npm install --save-dev @electron-forge/cli
        npx electron-forge import
        npm run make
    - name: Upload a Build Artifact
      uses: actions/upload-artifact@v3.1.3
      with:
        # Artifact name
        name: artifact
        # A file, directory or wildcard pattern that describes what to upload
        path: D:\a\widget\widget\out\make
        # The desired behavior if no files are found using the provided path.
  
